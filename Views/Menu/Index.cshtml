@model WebApplication2.ViewModel.PizzaCommandeViewModel;

@{
    Layout = "~/Views/Shared/_LayoutMenuPizza.cshtml";
}
<div class="menu-pizza-content">
    <div class="main-pizza-content">
        <img class="menu-pizza-small-logo" src="/images/small_logo.png" />
        <h1 class="menu-pizza-h1">Les Pizzas</h1>
        @if (Model == null)
        {
            <p>Aucune pizza disponible</p>
        }
        @foreach (var pizza in Model.Pizzas)
        {
            <div class="menu-pizza">
                <span class="menu-pizza-nom">@pizza.Nom</span> <span class="menu-pizza-price">@pizza.Prix €</span>
                <div class="item-pizza-ingredient">

                    @for (int i = 0; i < pizza.Ingredients.Count - 1; i++)
                    {
                        <span>@pizza.Ingredients[i].Nom,</span>
                    }
                    @(pizza.Ingredients.Count <= 0 ? "aucun ingrédient sélectionné" : @pizza.Ingredients.Last().Nom)

                    <span class="btn-ajouter"><a href="@Url.Action("AddPizzaInLigneDeCommande", "Menu", new { pizzaId = Model.Pizzas })"> Ajouter </a> </span>
                    
                </div>
                @if (pizza.Vegetarienne)
                {
                    <span class="menu-pizza-vege">VÉGÉTARIENNE</span>
                }
            </div>

        }


    </div>
    <div class="commande-client-tableau">
        <h1 class="commande-client-tableau-h1">Votre commande</h1>
        <div class="commande-client-tableau-content">

         
            @foreach(var ligne in Model.Commande.ligneDeCommandes)
            {
                float prixTotal = 0;
               
                {
                     prixTotal += ligne.Pizza.Prix;
                    <div class="commande-client-tableau-item">
                        
                        <p>@ligne.Pizza.Nom <span> @ligne.Pizza.Prix €</span></p> <button>❌</button>
                    </div>
                   
                }
                <p>Le prix total est de @prixTotal € </p>
       
            }

            
            
        </div>
       

        <div class="commande-client-div-button">
            <button class="commande-client-button">Aller au panier</button>
        </div>
    </div>
</div>
